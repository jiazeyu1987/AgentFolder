{
  "title": "Canvas 弹幕射击小游戏开发",
  "description": "基于 HTML5 Canvas 和原生 JS 实现的单文件弹幕射击游戏，包含完整游戏循环、对象池、多种弹幕算法及道具系统。",
  "nodes": [
    {
      "id": "1",
      "type": "dev",
      "title": "核心架构与游戏循环",
      "content": "构建 HTML 结构与 CSS 样式（自适应、隐藏滚动条）。实现 Game 主类：初始化 Canvas、requestAnimationFrame 循环、输入监听（键盘）、状态管理。实现对象池基类（用于 Bullet 和 Particle）。",
      "status": "pending",
      "dependencies": [],
      "task_id": "a9eca626-e502-4cb8-b168-b259c16c5476",
      "node_type": "ACTION",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "2",
      "type": "dev",
      "title": "玩家与武器系统",
      "content": "实现 Player 类：移动逻辑（边界限制）、自动射击计时器。实现武器系统：默认单发、三连发（苹果）、散射（鸡腿）、穿透弹（葡萄）、激光（柠檬）。包含武器计时器与状态切换。",
      "status": "pending",
      "dependencies": [
        "1"
      ],
      "task_id": "5af1bb26-8f97-40c0-acbf-284ebb43cbcb",
      "node_type": "ACTION",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "3",
      "type": "dev",
      "title": "敌人、BOSS与碰撞检测",
      "content": "实现 Enemy 类（普通下落）、Boss 类（复杂移动、血条）。实现 Boss 的多种弹幕模式：散射、环形、螺旋、追踪。实现 AABB 或圆形碰撞检测系统（玩家vs敌人/子弹，敌人vs玩家子弹）。",
      "status": "pending",
      "dependencies": [
        "2"
      ],
      "task_id": "2f45f0a4-a942-4d31-8cba-84469648c965",
      "node_type": "ACTION",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "4",
      "type": "dev",
      "title": "道具、特效与UI整合",
      "content": "实现 PowerUp 类（掉落、拾取、效果应用）。实现爆炸粒子系统（使用对象池）。整合 UI：得分、生命值、武器倒计时、开始/结束界面。联调数值平衡。",
      "status": "pending",
      "dependencies": [
        "3"
      ],
      "task_id": "f4ad0110-fa97-4dee-ac88-84a51fa08060",
      "node_type": "ACTION",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "5",
      "type": "dev",
      "title": "单文件打包与交付",
      "content": "将所有代码整合到一个 HTML 文件中。确保无依赖、无报错。添加玩法说明与参数配置区域。",
      "status": "pending",
      "dependencies": [
        "4"
      ],
      "task_id": "2f632058-7d87-4829-8e50-81da65d49e01",
      "node_type": "ACTION",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "node_type": "GOAL",
      "title": "Root Task",
      "goal_statement": "请你用 HTML5 Canvas + 原生 JavaScript 实现一个“打飞机 / 弹幕射击”小游戏，要求一个 HTML 文件即可运行，复制到浏览器就能玩。",
      "rationale": "Autocreated placeholder node for referential integrity.",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": [
        "autofix",
        "placeholder"
      ]
    }
  ],
  "edges": [
    {
      "from": "1",
      "to": "2",
      "from_task_id": "a9eca626-e502-4cb8-b168-b259c16c5476",
      "to_task_id": "5af1bb26-8f97-40c0-acbf-284ebb43cbcb",
      "edge_id": "40184724-dde0-4ec4-b4fc-99a7d1107670",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "2",
      "to": "3",
      "from_task_id": "5af1bb26-8f97-40c0-acbf-284ebb43cbcb",
      "to_task_id": "2f45f0a4-a942-4d31-8cba-84469648c965",
      "edge_id": "30c53941-a003-4fef-a126-62583ec558ba",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "3",
      "to": "4",
      "from_task_id": "2f45f0a4-a942-4d31-8cba-84469648c965",
      "to_task_id": "f4ad0110-fa97-4dee-ac88-84a51fa08060",
      "edge_id": "78ce041e-c691-4101-a33a-978961798cbd",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "4",
      "to": "5",
      "from_task_id": "f4ad0110-fa97-4dee-ac88-84a51fa08060",
      "to_task_id": "2f632058-7d87-4829-8e50-81da65d49e01",
      "edge_id": "24a87035-68d3-4893-9aee-f2d5d2262dbc",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "edge_id": "c6b7a1fa-a965-4066-9e89-6985dd25a017",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "from_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "to_task_id": "a9eca626-e502-4cb8-b168-b259c16c5476",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "5e1213bd-eccc-4bd6-a5e6-3cec54fe4e11",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "from_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "to_task_id": "5af1bb26-8f97-40c0-acbf-284ebb43cbcb",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "f583a7bd-dfcf-4b02-beb5-8e05765b35b5",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "from_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "to_task_id": "2f45f0a4-a942-4d31-8cba-84469648c965",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "0ba27127-2453-4070-87f0-1d916c07d54e",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "from_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "to_task_id": "f4ad0110-fa97-4dee-ac88-84a51fa08060",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "bdc7024f-7728-4109-9c9c-6984267859c7",
      "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
      "from_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
      "to_task_id": "2f632058-7d87-4829-8e50-81da65d49e01",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    }
  ],
  "requirements": [],
  "plan": {
    "title": "请你用 HTML5 Canvas + 原生 JavaScript 实现一个“打飞机 / 弹幕射击”小游戏，要求一个 HTML 文件即可运行，复制到浏览器就能玩。",
    "plan_id": "8fb1928c-08bb-492e-8ea0-78421f027a48",
    "root_task_id": "f963e8be-8189-4c80-acce-cd4cf378d3c3",
    "created_at": "2026-01-03T11:13:43Z",
    "owner_agent_id": "xiaobo",
    "constraints": {
      "deadline": null,
      "priority": "HIGH"
    }
  }
}