{
  "title": "HTML5 Canvas Danmaku Shooter Game (Single File)",
  "description": "Create a complete, single-file 'Plane Shooter' (Danmaku) game using HTML5 Canvas and vanilla JS. Features include player movement, auto-fire, diverse enemy patterns, Boss encounters with configurable bullet barrages (spread, ring, spiral, homing), and a power-up system that alters weapon types.",
  "nodes": [
    {
      "id": "task_1_structure",
      "type": "ACTION",
      "title": "Implement HTML/CSS Structure",
      "description": "Create the basic HTML skeleton, CSS for centering and styling the game container, and Canvas element setup (responsive 800x600).",
      "status": "TODO",
      "config": {},
      "task_id": "b74a4e4d-d503-403d-85b1-fd2a6b4110e5",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_2_player",
      "type": "ACTION",
      "title": "Implement Player System",
      "description": "Implement the player class with movement (Arrow/WASD), clamping to screen bounds, input handling (auto-fire vs space), and rendering.",
      "status": "TODO",
      "config": {},
      "task_id": "2f8eb7aa-9c93-42d9-81c3-b8d2826b8c90",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_3_enemy",
      "type": "ACTION",
      "title": "Implement Enemy Spawner & Logic",
      "description": "Create enemy spawning logic (basic enemies falling from top), movement patterns, and simple rendering (geometric shapes). Handle difficulty scaling (speed/count).",
      "status": "TODO",
      "config": {},
      "task_id": "3e78699e-d962-4b69-8da7-f623083465bc",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_7_collision",
      "type": "ACTION",
      "title": "Implement Collision System",
      "description": "Implement the core collision detection logic. Checks interactions between Player Bullets vs Enemies, Player vs Enemy Bodies, and Player vs PowerUps using Circle/Rect intersection.",
      "status": "TODO",
      "config": {},
      "task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_4_bullets",
      "type": "ACTION",
      "title": "Implement Bullet & Weapon System",
      "description": "Build the bullet manager and firing logic. Includes standard fire and 4 power-up modes (Apple 3-way, Chicken Shotgun, Grape Pierce, Lemon Laser).",
      "status": "TODO",
      "config": {},
      "task_id": "46737a49-4613-491c-9f00-bf13579a7d01",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_5_boss",
      "type": "ACTION",
      "title": "Implement Boss & Barrage System",
      "description": "Implement Boss entity with HP bar, movement logic, and the requested barrage patterns (Fan, Ring, Spiral, Homing). Trigger based on score/time.",
      "status": "TODO",
      "config": {},
      "task_id": "13160430-77a7-4697-884e-1f709eae9b8d",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_6_items",
      "type": "ACTION",
      "title": "Implement Power-Up System",
      "description": "Implement item drops from enemies/boss. Handle player collision with items to trigger weapon changes, timers, and UI updates for active buffs.",
      "status": "TODO",
      "config": {},
      "task_id": "36b5de78-a560-4580-a03b-4b54be3dc81b",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_8_ui",
      "type": "ACTION",
      "title": "Implement Game State & UI",
      "description": "Manage game loop states (Start, Playing, GameOver). Implement HUD (Score, HP, Weapon). Handle Game Over logic and restart.",
      "status": "TODO",
      "config": {},
      "task_id": "81527d73-e1c7-4789-8368-f17d6e2f0baf",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "id": "task_9_polish",
      "type": "ACTION",
      "title": "Final Polish & FX",
      "description": "Add particle explosions, background effects (optional), and ensure performance (object pooling checks). Review and merge code into single file.",
      "status": "TODO",
      "config": {},
      "task_id": "2d73b822-85cb-4ec1-b895-5342376a8b84",
      "node_type": "ACTION",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": []
    },
    {
      "task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "node_type": "GOAL",
      "title": "Root Task",
      "goal_statement": "请你用 HTML5 Canvas + 原生 JavaScript 实现一个“打飞机 / 弹幕射击”小游戏，要求一个 HTML 文件即可运行，复制到浏览器就能玩。",
      "rationale": "Autocreated placeholder node for referential integrity.",
      "owner_agent_id": "xiaobo",
      "priority": 0,
      "tags": [
        "autofix",
        "placeholder"
      ]
    }
  ],
  "edges": [
    {
      "from": "task_1_structure",
      "to": "task_2_player",
      "from_task_id": "b74a4e4d-d503-403d-85b1-fd2a6b4110e5",
      "to_task_id": "2f8eb7aa-9c93-42d9-81c3-b8d2826b8c90",
      "edge_id": "0ce7d5d2-90a0-4494-8f61-dd3d2eef2a40",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_1_structure",
      "to": "task_3_enemy",
      "from_task_id": "b74a4e4d-d503-403d-85b1-fd2a6b4110e5",
      "to_task_id": "3e78699e-d962-4b69-8da7-f623083465bc",
      "edge_id": "b61b6f81-cdcf-4b14-bbda-b946ff760e5f",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_2_player",
      "to": "task_4_bullets",
      "from_task_id": "2f8eb7aa-9c93-42d9-81c3-b8d2826b8c90",
      "to_task_id": "46737a49-4613-491c-9f00-bf13579a7d01",
      "edge_id": "e8d38f49-32a8-48d8-80c4-353ad8eaa624",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_3_enemy",
      "to": "task_7_collision",
      "from_task_id": "3e78699e-d962-4b69-8da7-f623083465bc",
      "to_task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "edge_id": "f86fb5ff-38cc-4abc-9768-73fc1d001a23",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_2_player",
      "to": "task_7_collision",
      "from_task_id": "2f8eb7aa-9c93-42d9-81c3-b8d2826b8c90",
      "to_task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "edge_id": "4a9e5329-494e-489a-ac99-037c385caf39",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_7_collision",
      "to": "task_4_bullets",
      "from_task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "to_task_id": "46737a49-4613-491c-9f00-bf13579a7d01",
      "edge_id": "2e6e7239-1547-4590-8196-ca32f6b7009e",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_4_bullets",
      "to": "task_5_boss",
      "from_task_id": "46737a49-4613-491c-9f00-bf13579a7d01",
      "to_task_id": "13160430-77a7-4697-884e-1f709eae9b8d",
      "edge_id": "eff433cf-874e-4c85-863a-dd587a75f62f",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_5_boss",
      "to": "task_6_items",
      "from_task_id": "13160430-77a7-4697-884e-1f709eae9b8d",
      "to_task_id": "36b5de78-a560-4580-a03b-4b54be3dc81b",
      "edge_id": "6ef08160-dcde-4790-879f-2b8323315ed4",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_7_collision",
      "to": "task_6_items",
      "from_task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "to_task_id": "36b5de78-a560-4580-a03b-4b54be3dc81b",
      "edge_id": "c0d6fff7-d0dd-43ec-8067-eeb4889cf713",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_6_items",
      "to": "task_8_ui",
      "from_task_id": "36b5de78-a560-4580-a03b-4b54be3dc81b",
      "to_task_id": "81527d73-e1c7-4789-8368-f17d6e2f0baf",
      "edge_id": "e7548f4a-4914-4764-9a01-bb67487ee281",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "from": "task_8_ui",
      "to": "task_9_polish",
      "from_task_id": "81527d73-e1c7-4789-8368-f17d6e2f0baf",
      "to_task_id": "2d73b822-85cb-4ec1-b895-5342376a8b84",
      "edge_id": "ddd2b677-0828-43a7-99ba-2d5bd74c347e",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "edge_type": "DEPENDS_ON",
      "metadata": {}
    },
    {
      "edge_id": "f972f863-4b19-4090-97b5-b0b999a83ddf",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "b74a4e4d-d503-403d-85b1-fd2a6b4110e5",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "e6486916-88b1-46c1-9b23-3c946935b292",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "2f8eb7aa-9c93-42d9-81c3-b8d2826b8c90",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "643f52ae-9f6c-436e-9d34-7619ccbab3a1",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "3e78699e-d962-4b69-8da7-f623083465bc",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "107480b2-9856-433a-9ed6-831e1774c57d",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "9ec7243e-ee17-4e10-8b91-b5238088d211",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "cd10d96c-2930-4511-86ae-7bb57c44f5f9",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "46737a49-4613-491c-9f00-bf13579a7d01",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "b7dc0352-91ff-48c9-8676-7ef9ceccd3e9",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "13160430-77a7-4697-884e-1f709eae9b8d",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "d205028a-1489-446f-97ca-81a99dfa40fe",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "36b5de78-a560-4580-a03b-4b54be3dc81b",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "451d98ab-fc32-4431-b3dc-6dbab30fd51d",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "81527d73-e1c7-4789-8368-f17d6e2f0baf",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    },
    {
      "edge_id": "4f78d118-33af-472b-ad48-19906dc61cf7",
      "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
      "from_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
      "to_task_id": "2d73b822-85cb-4ec1-b895-5342376a8b84",
      "edge_type": "DECOMPOSE",
      "metadata": {
        "and_or": "AND"
      }
    }
  ],
  "requirements": [],
  "plan": {
    "title": "请你用 HTML5 Canvas + 原生 JavaScript 实现一个“打飞机 / 弹幕射击”小游戏，要求一个 HTML 文件即可运行，复制到浏览器就能玩。",
    "plan_id": "4e0369e2-c203-4a18-b804-3915c2fc35d2",
    "root_task_id": "21c6d639-1893-48a8-be3f-0742067f8487",
    "created_at": "2026-01-02T04:36:20Z",
    "owner_agent_id": "xiaobo",
    "constraints": {
      "deadline": null,
      "priority": "HIGH"
    }
  }
}